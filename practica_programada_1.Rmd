---
title: "Practica_programada_1"
author: "Ángela Fallas Céspedes"
date: "2023-11-03"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(shiny)
library(ggplot2)
library(shinydashboard)
library(dplyr)
library(readxl)
library(ggplot2)
library(gapminder)
library(readr)
```

```{r}
datos_empleo_genero <- read.csv("datos_empleo_genero.csv", header = TRUE)
```


``{r}

ui <- dashboardPage(
      dashboardHeader(title = "Género y Desempleo en Latinoamérica"),
        dashboardSidebar(
          sidebarMenu(
            menuItem("Bienvenida", tabName = "bienvenida", icon = icon("person")),
            menuItem("Tabla", tabName = "visualizador_tabla", icon = icon("table")),
            menuItem("Histograma", tabName = "visualizador_histograma", icon = icon("person")),
            menuItem("Gráfico de dispersión", tabName = "grafico_dispersion"),
        
      )
    ),
    dashboardBody(
      tabItems(tabName = "bienvenida"),
        p("Hola!, a continuación pueden encontrar datos relacionados con al desempleo en América Latína"),
      tabItems(tabName = "visualizador_tabla", 
               selectizeInput("pais", "Seleccione un país: ",
               choices = names(datos_empleo_genero),
               multiple = TRUE),
      tabItems(tabName = "visualizador_histograma", 
               selectizeInput("pais", "Seleccione un país: ",
               choices = names(datos_empleo_genero),
               multiple = TRUE),
      tabItems(tabName = "grafico_dispersion", 
               selectizeInput("pais", "Seleccione un país: ",
               choices = names(datos_empleo_genero),
               multiple = TRUE),
   
      )
     )
    )
  )
)


server <- function(input, output, server) {
 output$dataTable <- renderDataTable({
    datos_empleo_genero
  })
}
shinyApp(ui = ui, server = server)
#
``

``{r}
ui <- dashboardPage(
  dashboardHeader(title = "Género y Desempleo en Latinoamérica",
                  titleWidth = 1000),
  dashboardSidebar(disable = FALSE,
                   width = 300,
                   
                   sidebarMenu(
                     menuItem("Tabla", 
                              tabName = "tabla", 
                              icon = icon("th"),
                              fluidRow(box("Contenido de bienvenida", width = 12)),
                     menuItem("Gráfico de barras", 
                              tabName = "bars", 
                              icon = icon("chart-bar")),
                     
                     menuItem("Histograma", 
                              tabName = "histogram", 
                              icon = icon("chart-bar"))
              )
  ),
  dashboardBody(
    tabItems(
     tabItem(tabName = "tabla",
              h2("Tabla"),
              selectInput("columna_seleccionada", 
                          label = "Selecciona las columnas que deseas visualizar en la tabla:", 
                          choices = colnames(datos_empleo_genero),
                          multiple = TRUE),
              dataTableOutput("tabla_seleccionada"),
              dataTableOutput("tabla"),
     ),
       tabItem(tabName = "barra",
              h2("Gráfico de barras"),
              plotOutput("barra")
      ),
      
      tabItem(tabName = "histograma",
              h2("Histograma"),
              selectInput("variable_seleccionada", 
                          label = "Selecciona una variable continua:", 
                          choices = c(colnames(datos_empleo_genero)),
                          selected = "Pais"
              ),
              plotOutput("histograma")
      ),
      
      
      )
    )
  )
)

server <- function(input, output, session) {
  
  
    output$tabla_seleccionada <- renderDataTable({
    datos_empleo_genero[, input$columna_seleccionada, drop = FALSE]
  })
  
  
  output$bars1 <- renderPlot({
    ggplot(datos_empleo_genero, aes(x = Pais, y = anyo, fill = Pais)) +
      geom_bar(stat = "identity") +
      labs(title = "Gráfico de Barras",
           x = "País",
           y = "Valor1") +
      theme_minimal()
  })
  
  
  output$histogram1 <- renderPlot({
    ggplot(datos_empleo_genero, aes_string(x = input$variable_seleccionada)) + 
      geom_histogram(binwidth = 0.5, fill = "lightblue", color = "white", alpha = 0.7) +
      labs(title = paste("Histograma de", input$variable_seleccionada), 
           x = input$variable_seleccionada) +
      theme_minimal()
  })
  


  
}

# Crear la aplicación Shiny
shinyApp(ui, server)
``

```{r}
library(shiny)
library(shinydashboard)
library(ggplot2)

# Crear datos de ejemplo (reemplaza esto con tus datos reales)
datos_empleo_genero <- data.frame(
  Pais = c("Argentina", "Brasil", "Chile"),
  anyo = c(2020, 2020, 2020),
  Valor1 = c(10, 15, 20),
  Valor2 = c(5, 10, 15)
)

# UI
ui <- dashboardPage(
  dashboardHeader(title = "Género y Desempleo en Latinoamérica", titleWidth = 1000),
  dashboardSidebar(
    disable = FALSE,
    width = 300,
    sidebarMenu(
      menuItem("Tabla", tabName = "tabla", icon = icon("th")),
      menuItem("Gráfico de barras", tabName = "bars", icon = icon("chart-bar")),
      menuItem("Histograma", tabName = "histograma", icon = icon("chart-bar"))
    )
  ),
  dashboardBody(
    tabItems(
      tabItem(
        tabName = "tabla",
        h2("Tabla"),
        selectInput("columna_seleccionada", 
                    label = "Selecciona las columnas que deseas visualizar en la tabla:", 
                    choices = colnames(datos_empleo_genero),
                    multiple = TRUE),
        dataTableOutput("tabla_seleccionada"),
        dataTableOutput("tabla")
      ),
      tabItem(
        tabName = "bars",
        h2("Gráfico de barras"),
        plotOutput("bars1")
      ),
      tabItem(
        tabName = "histograma",
        h2("Histograma"),
        selectInput("variable_seleccionada", 
                    label = "Selecciona una variable continua:", 
                    choices = c(colnames(datos_empleo_genero)),
                    selected = "Pais"),
        plotOutput("histograma1")
      )
    )
  )
)

# Server
server <- function(input, output, session) {
  output$tabla_seleccionada <- renderDataTable({
    datos_empleo_genero[, input$columna_seleccionada, drop = FALSE]
  })

  output$bars1 <- renderPlot({
    ggplot(datos_empleo_genero, aes(x = Pais, y = Valor1, fill = Pais)) +
      geom_bar(stat = "identity") +
      labs(title = "Gráfico de Barras", x = "País", y = "Valor1") +
      theme_minimal()
  })

  output$histograma1 <- renderPlot({
    ggplot(datos_empleo_genero, aes_string(x = input$variable_seleccionada)) + 
      geom_histogram(binwidth = 0.5, fill = "lightblue", color = "white", alpha = 0.7) +
      labs(title = paste("Histograma de", input$variable_seleccionada), 
           x = input$variable_seleccionada) +
      theme_minimal()
  })
}

# Crear la aplicación Shiny
shinyApp(ui, server)

```

